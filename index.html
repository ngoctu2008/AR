<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>AR Chuỗi DNA (Phiên bản GLB)</title>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    
    <style>
      #infoBox {
        position: absolute;
        top: 10px;
        right: 10px;
        background-color: rgba(0, 0, 0, 0.7);
        color: white;
        padding: 10px;
        border-radius: 5px;
        font-family: sans-serif;
        display: none; /* Ban đầu ẩn đi */
        z-index: 999;
      }
      #infoBox h3 {
        margin-top: 0;
        color: #00ffcc;
      }
    </style>
  </head>

  <body style="margin: 0px; overflow: hidden;">
    
    <div id="infoBox">
      <h3 id="infoTitle"></h3>
      <p id="infoContent"></p>
    </div>

    <a-scene embedded arjs>
      
      <a-marker preset="hiro">
        
        <a-gltf-model 
          src="dna.glb"
          scale="0.05 0.05 0.05" 
          position="0 0.5 0" 
          rotation="0 0 0"
          animation="property: rotation; to: 0 360 0; loop: true; dur: 10000; easing: linear"></a-gltf-model>
          
        <a-sphere 
          id="hotspot-adenine"
          position="0.08 0.5 0" radius="0.02" 
          material="color: #FF0000; opacity: 0.7" 
          class="clickable-hotspot"
          data-base-name="Adenine"
          data-base-formula="C5H5N5"
          data-base-info="Adenine (A) là một trong bốn loại nucleobase trong DNA. Nó luôn kết cặp với Thymine (T) bằng hai liên kết hydro."></a-sphere>
        
        <a-sphere 
          id="hotspot-guanine"
          position="-0.08 0.6 0" radius="0.02" 
          material="color: #0000FF; opacity: 0.7" 
          class="clickable-hotspot"
          data-base-name="Guanine"
          data-base-formula="C5H5N5O"
          data-base-info="Guanine (G) là một loại nucleobase khác trong DNA. Nó luôn kết cặp với Cytosine (C) bằng ba liên kết hydro."></a-sphere>

        <a-sphere 
          id="hotspot-thymine"
          position="0.08 0.7 0" radius="0.02" 
          material="color: #FFFF00; opacity: 0.7" 
          class="clickable-hotspot"
          data-base-name="Thymine"
          data-base-formula="C5H6N2O2"
          data-base-info="Thymine (T) là một base pyrimidine. Trong DNA, nó luôn kết cặp với Adenine (A) bằng hai liên kết hydro."></a-sphere>

        <a-sphere 
          id="hotspot-cytosine"
          position="-0.08 0.8 0" radius="0.02" 
          material="color: #00FF00; opacity: 0.7" 
          class="clickable-hotspot"
          data-base-name="Cytosine"
          data-base-formula="C4H5N3O"
          data-base-info="Cytosine (C) là một base pyrimidine. Trong DNA, nó luôn kết cặp với Guanine (G) bằng ba liên kết hydro."></a-sphere>

      </a-marker>

      <a-camera-static />
    </a-scene>

    <script>
      // ...JavaScript giữ nguyên, không cần sửa...
      const infoBox = document.getElementById('infoBox');
      const infoTitle = document.getElementById('infoTitle');
      const infoContent = document.getElementById('infoContent');

      document.addEventListener('DOMContentLoaded', () => {
        const scene = document.querySelector('a-scene');
        scene.addEventListener('click', (evt) => {
          const target = evt.detail.intersection && evt.detail.intersection.object.el;
          
          if (target && target.classList.contains('clickable-hotspot')) {
            const baseName = target.getAttribute('data-base-name');
            const baseFormula = target.getAttribute('data-base-formula');
            const baseInfo = target.getAttribute('data-base-info');

            infoTitle.textContent = `${baseName} (${baseFormula})`;
            infoContent.textContent = baseInfo;
            infoBox.style.display = 'block'; 
          } else {
            infoBox.style.display = 'none'; 
          }
        });
      });
    </script>
  </body>
</html>
